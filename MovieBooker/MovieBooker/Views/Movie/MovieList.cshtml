@model MovieBooker.Models.Movie

@{
    ViewBag.Title = "MovieList";
    Layout = "../Shared/MovieBookerLayout.cshtml";
}

<h2>영화 목록</h2>

<html>
<head>
    <title></title>
    <script language="javascript">

        function SetMoivesToTable()
        {
            var MovieList = @Html.Raw(Json.Encode(ViewBag.Movies));

            var table = document.getElementById("MovieListTable");
            var i = 0;
            for(var movie in MovieList)
            {
                var tr = document.createElement("tr");

                var td1 = document.createElement("td");
                var td2 = document.createElement("td");
                var td3 = document.createElement("td");
                var td4 = document.createElement("td");
                var td5 = document.createElement("td");
                td1.innerText = MovieList[i].Moviename;
                td2.innerText = MovieList[i].Playstartdatetime;
                td3.innerText = MovieList[i].Playenddatetime;
                td4.innerText = MovieList[i].Runningtime;
                td5.innerText = MovieList[i].Viewingclass;
                td1.className = "alertBod";
                td2.className = "alertBod";
                td3.className = "alertBod";
                td4.className = "alertBod";
                td5.className = "alertBod";
                tr.appendChild(td1);
                tr.appendChild(td2);
                tr.appendChild(td3);
                tr.appendChild(td4);
                tr.appendChild(td5);

                // 입력된값을 넣은 tr 개체를 추가한다.
                table.appendChild(tr);
                i++;
            }
        }
    </script>
</head>
<body>
    <table border="1" id="MovieListTable" class="stats" align="center" >
        <tr>
            <td class="hed">영화제목</td>
            <td class="hed">상영 시작일</td>
            <td class="hed">상영 종료일</td>
            <td class="hed">상영시간</td>
            <td class="hed">관람등급</td>
        </tr>
    </table>
    <script type="text/javascript">
        SetMoivesToTable();
    </script>
    <br />
    <table align="center" cellpadding="10">
        <tr>
            <td>
                <input type="button" value="영화 등록" class ="button middle gray" onclick="location.href='@Url.Action("NewMovie", "Movie")'" />
            </td>
            <td>
                <input type="button" value="돌아가기"  class ="button middle gray"  onclick="location.href='@Url.Action("loginAdmin", "Home")'" />
            </td>
        </tr>
    </table>
    <br />
</body>
</html>